var app=angular.module("birdbathApp",["ngSanitize","ngAnimate","birdbathApp.services","birdbathControllers"]),birdbathControllers=angular.module("birdbathControllers",["ngAnimate"]);birdbathControllers.controller("TweetCtrl",function(e,t){var i=this;this.tweets=[],this.deletedCount=0,this.index=0,this.user="",this.isLoggedIn=!1,this.isKeeping=!1,this.isDeleting=!1,t.initialize(),this["delete"]=function(){console.log("fakedelete"),i.isDeleting=!0,this.deletedCount+=1,console.log("other")},this.keep=function(){console.log("fakekeep"),this.nextTweet()},this.keyPress=function(e){68===e.keyCode?this["delete"]():75===e.keyCode&&this.keep()},this.nextTweet=function(){return this.index+1>=this.tweets.length?void this.refreshTimeline(this.tweet.id):(this.index+=1,this.tweet=this.tweets[this.index],this.author=this.tweet.retweeted?this.tweet.retweeted_status.user:this.tweet.user,this.user=this.tweets[0].user,this.isKeeping=!1,void(this.isDeleting=!1))},this.refreshTimeline=function(t){e.get("example-response.json").success(function(e){i.tweets=i.tweets.concat(e),i.nextTweet()},function(){i.rateLimitError=!0})},this.refreshTimeline(),this.connectButton=function(){}}),angular.module("birdbathApp.services",[]).factory("twitterService",function(e){var t=!1;return{initialize:function(){OAuth.initialize("19gVB-kbrzsJWQs5o7Ha2LIeX4I",{cache:!0}),t=OAuth.create("twitter")},isReady:function(){return t},connectTwitter:function(){var i=e.defer();return OAuth.popup("twitter",{cache:!0},function(e,n){e||(t=n,i.resolve())}),i.promise},clearCache:function(){OAuth.clearCache("twitter"),t=!1},getLatestTweets:function(i){var n=e.defer(),s="/1.1/statuses/user_timeline.json";i&&(s+="?max_id="+i);t.get(s).done(function(e){n.resolve(e)}).fail(function(e){n.reject(e)});return n.promise}}});